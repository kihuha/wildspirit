{"version":3,"sources":["schema.graphql","server.ts"],"names":["module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,MAAM,CAACC,OAAP,GAAe;AACb,UAAQ,UADK;AAEb,iBAAe,CACb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KADQ,EAiBR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjBQ,EAiCR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjCQ;AARZ,GADa,EA4Db;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KADQ,EAiBR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjBQ;AARZ,GA5Da,EAuGb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KADQ,EAoBR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KApBQ;AARZ,GAvGa,EAwJb;AACE,YAAQ,2BADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,cAAU,CACR;AACE,cAAQ,sBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OANV;AAgBE,oBAAc;AAhBhB,KADQ,EAmBR;AACE,cAAQ,sBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OANV;AAgBE,oBAAc;AAhBhB,KAnBQ;AAPZ,GAxJa,EAsMb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KADQ,EAoBR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KApBQ,EAuCR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,aADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KAvCQ,EA0DR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,UADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OAPV;AAiBE,oBAAc;AAjBhB,KA1DQ;AARZ,GAtMa,EA6Rb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KADQ,EAiBR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjBQ,EAiCR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjCQ,EAiDR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,EANf;AAOE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAPV;AAcE,oBAAc;AAdhB,KAjDQ;AARZ,GA7Ra,EAwWb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OADW,CANf;AA0BE,cAAQ;AACN,gBAAQ,UADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OA1BV;AAoCE,oBAAc;AApChB,KADQ,EAuCR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OADW,CANf;AA0BE,cAAQ;AACN,gBAAQ,UADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OA1BV;AAoCE,oBAAc;AApChB,KAvCQ,EA6ER;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OADW,CANf;AA0BE,cAAQ;AACN,gBAAQ,UADF;AAEN,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF;AAFF,OA1BV;AAoCE,oBAAc;AApChB,KA7EQ;AARZ,GAxWa,EAqeb;AACE,YAAQ,sBADV;AAEE,YAAQ;AACN,cAAQ,MADF;AAEN,eAAS;AAFH,KAFV;AAME,kBAAc,EANhB;AAOE,kBAAc,EAPhB;AAQE,cAAU,CACR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,WADF;AAEN,kBAAQ;AACN,oBAAQ,MADF;AAEN,qBAAS;AAFH;AAFF,SANV;AAaE,sBAAc;AAbhB,OADW,EAgBX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAhBW,EAkCX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAlCW,EAoDX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OApDW,EAsEX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAtEW,CANf;AA+FE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OA/FV;AAsGE,oBAAc;AAtGhB,KADQ,EAyGR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OADW,EAmBX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAnBW,CANf;AA4CE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OA5CV;AAmDE,oBAAc;AAnDhB,KAzGQ,EA8JR;AACE,cAAQ,iBADV;AAEE,cAAQ;AACN,gBAAQ,MADF;AAEN,iBAAS;AAFH,OAFV;AAME,mBAAa,CACX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OADW,EAmBX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAnBW,EAqCX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OArCW,EAuDX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,UADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAvDW,EAyEX;AACE,gBAAQ,sBADV;AAEE,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH,SAFV;AAME,gBAAQ;AACN,kBAAQ,aADF;AAEN,kBAAQ;AACN,oBAAQ,WADF;AAEN,oBAAQ;AACN,sBAAQ,MADF;AAEN,uBAAS;AAFH;AAFF;AAFF,SANV;AAgBE,sBAAc;AAhBhB,OAzEW,CANf;AAkGE,cAAQ;AACN,gBAAQ,WADF;AAEN,gBAAQ;AACN,kBAAQ,MADF;AAEN,mBAAS;AAFH;AAFF,OAlGV;AAyGE,oBAAc;AAzGhB,KA9JQ;AARZ,GArea,CAFF;AA2vBb,SAAO;AACL,aAAS,CADJ;AAEL,WAAO;AAFF;AA3vBM,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,MAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AACA,MAAA,IAAA,GAAA,eAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA;;AACA,MAAA,eAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,MAAA,gBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;AAEA,MAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,MAAA,cAAA,GAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;;AAEA,MAAM,IAAI,GAAG,OAAO,CAAC,GAAR,CAAY,IAAZ,IAAoB,IAAjC;AAEA,MAAM,IAAI,GAAG,IAAI,CAAC,KAAL,CACX,IAAA,CAAA,OAAA,CAAG,YAAH,CAAgB,MAAA,CAAA,OAAA,CAAK,OAAL,CAAa,SAAb,EAAwB,YAAxB,CAAhB,EAAuD,OAAvD,CADW,CAAb;AAIA,MAAM,SAAS,GAAG;AAChB,EAAA,KAAK,EAAE;AACL,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAS,IAAT,KAAsB;AAC9B,UAAI,OAAO,CAAC,GAAR,CAAY,UAAhB,EAA4B;AAC1B,YAAI;AACF,UAAA,cAAA,CAAA,OAAA,CAAI,MAAJ,CAAW,IAAI,CAAC,KAAhB,EAAuB,OAAO,CAAC,GAAR,CAAY,UAAnC;AACA,iBAAO,IAAI,CAAC,KAAZ;AACD,SAHD,CAGE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,CAAhB,CAAP;AACD;AACF;;AAED,aAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,wCAAhB,CAAP;AACD,KAZI;AAaL,IAAA,WAAW,EAAE,CAAC,CAAD,EAAS,IAAT,KAAsB;AACjC,UAAI,OAAO,CAAC,GAAR,CAAY,UAAhB,EAA4B;AAC1B,YAAI;AACF,UAAA,cAAA,CAAA,OAAA,CAAI,MAAJ,CAAW,IAAI,CAAC,KAAhB,EAAuB,OAAO,CAAC,GAAR,CAAY,UAAnC;AACA,iBAAO,IAAI,CAAC,QAAZ;AACD,SAHD,CAGE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,CAAhB,CAAP;AACD;AACF;;AAED,aAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,wCAAhB,CAAP;AACD,KAxBI;AA0BL,IAAA,eAAe,EAAE,CAAC,CAAD,EAAS,IAAT,KAAsB;AACrC,UAAI,OAAO,CAAC,GAAR,CAAY,UAAhB,EAA4B;AAC1B,YAAI;AACF,UAAA,cAAA,CAAA,OAAA,CAAI,MAAJ,CAAW,IAAI,CAAC,KAAhB,EAAuB,OAAO,CAAC,GAAR,CAAY,UAAnC;AACA,iBAAO,IAAI,CAAC,YAAZ;AACD,SAHD,CAGE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,CAAhB,CAAP;AACD;AACF;;AAED,aAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,wCAAhB,CAAP;AACD;AArCI,GADS;AAwChB,EAAA,QAAQ,EAAE;AACR,IAAA,UAAU,EAAE,CAAO,CAAP,EAAe,IAAf,KAA4B,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AACtC,YAAM,UAAU,GACd,IAAI,CAAC,KAAL,CAAW,MAAX,CACG,IAAD,IAAe,IAAI,CAAC,KAAL,KAAe,IAAI,CAAC,KAApB,IAA6B,IAAI,CAAC,KAAL,KAAe,IAAI,CAAC,KADlE,EAEE,MAFF,KAEa,CAHf;;AAIA,UAAI,CAAC,UAAL,EAAiB;AACf,cAAM,cAAc,GAAG,MAAM,QAAA,CAAA,OAAA,CAAO,IAAP,CAAY,IAAI,CAAC,QAAjB,EAA2B,CAA3B,CAA7B;AACA,cAAM,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB;AAClC,UAAA,QAAQ,EAAE;AADwB,SAApB,CAAhB;AAIA,cAAM,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB;AAAE,UAAA,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,KAAT,EAAgB,OAAhB;AAAT,SAApB,CAAhB;AAEA,QAAA,IAAA,CAAA,OAAA,CAAG,aAAH,CACE,MAAA,CAAA,OAAA,CAAK,OAAL,CAAa,SAAb,EAAwB,YAAxB,CADF,EAEE,IAAI,CAAC,SAAL,CAAe,OAAf,CAFF;AAKA,eAAO,OAAP;AACD;;AAED,aAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,qBAAhB,CAAP;AACD,KAtBuC,CADhC;AAwBR,IAAA,KAAK,EAAE,CAAC,CAAD,EAAS,IAAT,KAAsB;AAC3B,YAAM,MAAM,GAAG,IAAI,CAAC,KAAL,CAAW,MAAX,CAAmB,IAAD,IAAe,IAAI,CAAC,KAAL,KAAe,IAAI,CAAC,KAArD,CAAf;;AACA,UAAI,MAAM,CAAC,CAAD,CAAV,EAAe;AACb,YAAI,OAAO,CAAC,GAAR,CAAY,UAAhB,EAA4B;AAC1B,gBAAM,KAAK,GAAG,cAAA,CAAA,OAAA,CAAI,IAAJ,CAAS,MAAM,CAAC,CAAD,CAAf,EAAoB,OAAO,CAAC,GAAR,CAAY,UAAhC,CAAd;AACA,iBAAO;AACL,YAAA,IAAI,EAAE,MADD;AAEL,YAAA,KAAK,EAAE;AAFF,WAAP;AAID;;AACD,eAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,wCAAhB,CAAP;AACD;;AAED,aAAO,IAAI,eAAA,CAAA,mBAAJ,CAAwB,2BAAxB,CAAP;AACD,KAtCO;AAwCR,IAAA,aAAa,EAAE,CAAC,CAAD,EAAS,IAAT,KAAsB;AACnC,UAAI,OAAO,CAAC,GAAR,CAAY,UAAhB,EAA4B;AAC1B,YAAI;AACF,UAAA,cAAA,CAAA,OAAA,CAAI,MAAJ,CAAW,IAAI,CAAC,KAAhB,EAAuB,OAAO,CAAC,GAAR,CAAY,UAAnC;AACA,gBAAM,IAAI,GAAG,IAAI,CAAC,KAAL,CAAW,MAAX,CACV,IAAD,IAAe,IAAI,CAAC,KAAL,KAAe,IAAI,CAAC,KADxB,CAAb;AAIA,gBAAM,UAAU,GAAG;AACjB,YAAA,IADiB;AAEjB,YAAA,QAAQ,EAAE,IAAI,CAAC,QAFE;AAGjB,YAAA,MAAM,EAAE,IAAI,CAAC,MAHI;AAIjB,YAAA,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,MAAT;AAJS,WAAnB;AAOA,gBAAM,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB;AAClC,YAAA,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,QAAT,EAAmB,UAAnB;AADwB,WAApB,CAAhB;AAIA,UAAA,IAAA,CAAA,OAAA,CAAG,aAAH,CACE,MAAA,CAAA,OAAA,CAAK,OAAL,CAAa,SAAb,EAAwB,YAAxB,CADF,EAEE,IAAI,CAAC,SAAL,CAAe,OAAf,CAFF;AAKA,iBAAO,UAAP;AACD,SAvBD,CAuBE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,CAAhB,CAAP;AACD;AACF;;AAED,aAAO,IAAI,eAAA,CAAA,WAAJ,CAAgB,wCAAhB,CAAP;AACD;AAvEO;AAxCM,CAAlB;AAmHA,MAAM,MAAM,GAAG,IAAI,eAAA,CAAA,YAAJ,CAAiB;AAAE,EAAA,QAAQ,EAAR,gBAAA,CAAA,OAAF;AAAY,EAAA;AAAZ,CAAjB,CAAf;AAEA,MAAM,CACH,MADH,CACU,IADV,EAEG,IAFH,CAEQ,CAAC;AAAE,EAAA;AAAF,CAAD,KAAkB,gCAAgC,IAAI,EAF9D","file":"server.js","sourceRoot":"../src","sourcesContent":["module.exports={\n  \"kind\": \"Document\",\n  \"definitions\": [\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"User\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"name\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"email\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"phone\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"AuthDetails\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"user\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"User\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"token\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"Person\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"name\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"String\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"age\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"Int\"\n              }\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"InputObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"PersonInput\"\n      },\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"InputValueDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"name\"\n          },\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"String\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"InputValueDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"age\"\n          },\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"Int\"\n              }\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"Booking\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"user\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"User\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"fromDate\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"String\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"toDate\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NonNullType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"String\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"people\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"ListType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"Person\"\n              }\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"Destination\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"id\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"Int\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"name\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"location\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"image\"\n          },\n          \"arguments\": [],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"String\"\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"Query\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"allUsers\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"token\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"ListType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"User\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"allBookings\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"token\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"ListType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"Booking\"\n              }\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"allDestinations\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"token\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"ListType\",\n            \"type\": {\n              \"kind\": \"NamedType\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"Destination\"\n              }\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    },\n    {\n      \"kind\": \"ObjectTypeDefinition\",\n      \"name\": {\n        \"kind\": \"Name\",\n        \"value\": \"Mutation\"\n      },\n      \"interfaces\": [],\n      \"directives\": [],\n      \"fields\": [\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"createUser\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"name\"\n              },\n              \"type\": {\n                \"kind\": \"NamedType\",\n                \"name\": {\n                  \"kind\": \"Name\",\n                  \"value\": \"String\"\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"email\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"phone\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"password\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"token\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"User\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"login\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"email\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"password\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"AuthDetails\"\n            }\n          },\n          \"directives\": []\n        },\n        {\n          \"kind\": \"FieldDefinition\",\n          \"name\": {\n            \"kind\": \"Name\",\n            \"value\": \"createBooking\"\n          },\n          \"arguments\": [\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"email\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"fromDate\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"toDate\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"people\"\n              },\n              \"type\": {\n                \"kind\": \"ListType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"PersonInput\"\n                  }\n                }\n              },\n              \"directives\": []\n            },\n            {\n              \"kind\": \"InputValueDefinition\",\n              \"name\": {\n                \"kind\": \"Name\",\n                \"value\": \"token\"\n              },\n              \"type\": {\n                \"kind\": \"NonNullType\",\n                \"type\": {\n                  \"kind\": \"NamedType\",\n                  \"name\": {\n                    \"kind\": \"Name\",\n                    \"value\": \"String\"\n                  }\n                }\n              },\n              \"directives\": []\n            }\n          ],\n          \"type\": {\n            \"kind\": \"NamedType\",\n            \"name\": {\n              \"kind\": \"Name\",\n              \"value\": \"Booking\"\n            }\n          },\n          \"directives\": []\n        }\n      ]\n    }\n  ],\n  \"loc\": {\n    \"start\": 0,\n    \"end\": 853\n  }\n};","import path from \"path\"\nimport fs from \"fs\"\nimport { ApolloServer, AuthenticationError, ApolloError } from \"apollo-server\"\nimport typeDefs from \"./schema.graphql\"\n\nimport bcrypt from \"bcrypt\"\nimport jwt from \"jsonwebtoken\"\n\nconst port = process.env.PORT || 4000\n\nconst data = JSON.parse(\n  fs.readFileSync(path.resolve(__dirname, \"../db.json\"), \"utf-8\")\n)\n\nconst resolvers = {\n  Query: {\n    allUsers: (_: any, args: any) => {\n      if (process.env.SECRET_KEY) {\n        try {\n          jwt.verify(args.token, process.env.SECRET_KEY)\n          return data.users\n        } catch (e) {\n          return new ApolloError(e)\n        }\n      }\n\n      return new ApolloError(\"Secret key is missing from environment\")\n    },\n    allBookings: (_: any, args: any) => {\n      if (process.env.SECRET_KEY) {\n        try {\n          jwt.verify(args.token, process.env.SECRET_KEY)\n          return data.bookings\n        } catch (e) {\n          return new ApolloError(e)\n        }\n      }\n\n      return new ApolloError(\"Secret key is missing from environment\")\n    },\n\n    allDestinations: (_: any, args: any) => {\n      if (process.env.SECRET_KEY) {\n        try {\n          jwt.verify(args.token, process.env.SECRET_KEY)\n          return data.destinations\n        } catch (e) {\n          return new ApolloError(e)\n        }\n      }\n\n      return new ApolloError(\"Secret key is missing from environment\")\n    },\n  },\n  Mutation: {\n    createUser: async (_: any, args: any) => {\n      const userExists =\n        data.users.filter(\n          (user: any) => user.email === args.email || user.phone === args.phone\n        ).length === 1\n      if (!userExists) {\n        const hashedPassword = await bcrypt.hash(args.password, 8)\n        const newUser = Object.assign(args, {\n          password: hashedPassword,\n        })\n\n        const newData = Object.assign(data, { users: [...data.users, newUser] })\n\n        fs.writeFileSync(\n          path.resolve(__dirname, \"../db.json\"),\n          JSON.stringify(newData)\n        )\n\n        return newUser\n      }\n\n      return new ApolloError(\"User already exists\")\n    },\n    login: (_: any, args: any) => {\n      const dbUser = data.users.filter((user: any) => user.email === args.email)\n      if (dbUser[0]) {\n        if (process.env.SECRET_KEY) {\n          const token = jwt.sign(dbUser[0], process.env.SECRET_KEY)\n          return {\n            user: dbUser,\n            token: token,\n          }\n        }\n        return new ApolloError(\"Secret key is missing from environment\")\n      }\n\n      return new AuthenticationError(\"Invalid login credentials\")\n    },\n\n    createBooking: (_: any, args: any) => {\n      if (process.env.SECRET_KEY) {\n        try {\n          jwt.verify(args.token, process.env.SECRET_KEY)\n          const user = data.users.filter(\n            (user: any) => user.email === args.email\n          )\n\n          const newBooking = {\n            user,\n            fromDate: args.fromDate,\n            toDate: args.toDate,\n            people: [...args.people],\n          }\n\n          const newData = Object.assign(data, {\n            bookings: [...data.bookings, newBooking],\n          })\n\n          fs.writeFileSync(\n            path.resolve(__dirname, \"../db.json\"),\n            JSON.stringify(newData)\n          )\n\n          return newBooking\n        } catch (e) {\n          return new ApolloError(e)\n        }\n      }\n\n      return new ApolloError(\"Secret key is missing from environment\")\n    },\n  },\n}\n\nconst server = new ApolloServer({ typeDefs, resolvers })\n\nserver\n  .listen(port)\n  .then(({ url }: any) => `🚀 Server is running on port ${port}`)\n"]}